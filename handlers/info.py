# handlers/info.py
from telegram import Update
from telegram.ext import ContextTypes
from utils.markdown_helpers import escape_markdown_v2
import logging

logger = logging.getLogger(__name__)

async def show_recommendations(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –≤–æ–∑–¥—É—Ö–∞ –∏ –≤–æ–¥—ã."""
    recommendations_text = (
        "**üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É –≤–æ–∑–¥—É—Ö–∞ –∏ –≤–æ–¥—ã –≤ –ë–∏—à–∫–µ–∫–µ**\n\n"
        "**üå¨Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞:**\n"
        "‚Ä¢ **–•–æ—Ä–æ—à–æ (AQI 0-50):** –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.\n"
        "‚Ä¢ **–£–º–µ—Ä–µ–Ω–Ω–æ (AQI 51-100):** –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º –≥—Ä—É–ø–ø–∞–º (–¥–µ—Ç–∏, –ø–æ–∂–∏–ª—ã–µ, –ª—é–¥–∏ —Å —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è–º–∏) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —É–ª–∏—Ü–µ.\n"
        "‚Ä¢ **–ù–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø (AQI 101-150):** –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º –≥—Ä—É–ø–ø–∞–º —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–ª–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ –Ω–∞ —É–ª–∏—Ü–µ. –û—Å—Ç–∞–ª—å–Ω—ã–º ‚Äî —Å–æ–∫—Ä–∞—Ç–∏—Ç—å.\n"
        "‚Ä¢ **–ù–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ (AQI 151-200):** –í—Å–µ–º –≥—Ä—É–ø–ø–∞–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞ —É–ª–∏—Ü–µ. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º –≥—Ä—É–ø–ø–∞–º –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏. –ó–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–∞.\n"
        "‚Ä¢ **–û—á–µ–Ω—å –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ (AQI 201-300):** –ò–∑–±–µ–≥–∞–π—Ç–µ –ª—é–±–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ —É–ª–∏—Ü–µ. –û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –¥–æ–º–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç–µ–ª–∏ –≤–æ–∑–¥—É—Ö–∞. –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –Ω–∞ —É–ª–∏—Ü—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä—ã (N95/FFP2).\n"
        "‚Ä¢ **–û–ø–∞—Å–Ω–æ (AQI 301+):** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç–µ –≤—Ä–µ–º—è –Ω–∞ —É–ª–∏—Ü–µ. –û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç–µ–ª–∏ –≤–æ–∑–¥—É—Ö–∞. –ù–∞ —É–ª–∏—Ü–µ ‚Äî —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä—ã.\n\n"
        "**üíß –ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–¥—ã:**\n"
        "‚Ä¢ –í–æ–¥–æ–ø—Ä–æ–≤–æ–¥–Ω–∞—è –≤–æ–¥–∞ –≤ –ë–∏—à–∫–µ–∫–µ –æ–±—ã—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã–º –Ω–æ—Ä–º–∞–º, –Ω–æ –µ—ë –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è.\n"
        "‚Ä¢ –î–ª—è –ø–∏—Ç—å—è –∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –ø–∏—â–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—É—é –∏–ª–∏ –±—É—Ç–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–æ–¥—É.\n"
        "‚Ä¢ –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –º–µ—Å—Ç–Ω—ã—Ö —Å–ª—É–∂–± –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è.\n\n"
        "–ë—É–¥—å—Ç–µ –∑–¥–æ—Ä–æ–≤—ã –∏ –±–µ—Ä–µ–≥–∏—Ç–µ —Å–µ–±—è!\n"
        "---"
    )
    await update.message.reply_markdown_v2(escape_markdown_v2(recommendations_text))

async def show_about_bot(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ."""
    about_text = (
        "**‚ùì –û –ë–∏—à–∫–µ–∫ –≠–∫–æ–ú–æ–Ω–∏—Ç–æ—Ä –ë–æ—Ç–µ**\n\n"
        "–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –∂–∏—Ç–µ–ª—è–º –ë–∏—à–∫–µ–∫–∞ –ø–æ–ª—É—á–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—á–µ—Å—Ç–≤–µ –≤–æ–∑–¥—É—Ö–∞ –∏ –≤–æ–¥—ã.\n"
        "–ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è —Å–¥–µ–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ.\n\n"
        "**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**\n"
        "‚Ä¢ **–ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–∑–¥—É—Ö–∞:** –î–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è aqicn.org (World Air Quality Index project), –∫–æ—Ç–æ—Ä—ã–π –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –≤–∫–ª—é—á–∞—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –≤ –ë–∏—à–∫–µ–∫–µ.\n"
        "‚Ä¢ **–ì–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Nominatim OpenStreetMap –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª–æ–∫–∞—Ü–∏–π –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é.\n\n"
        "–ú—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º –±–æ—Ç–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.\n\n"
        "**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** –í–∞—à –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫\n"
        "**–í–µ—Ä—Å–∏—è:** 1.0.0\n\n"
        "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞!"
    )
    await update.message.reply_markdown_v2(escape_markdown_v2(about_text))
